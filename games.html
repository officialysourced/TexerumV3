<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Games</title>
  <script type="text/javascript" src="app.js" defer></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <style>
    .game-card.upload-card {
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 20px;
        min-height: 150px;
        align-items: center;
        align-self: center;
    }
    .upload-button {
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.9em;
        margin-top: 10px;
        transition: background-color 0.3s ease;
    }
    .upload-button:hover {
        background-color: #0056b3;
    }
    #gameFileInput {
        display: none;
    }
    .game-embed-container {
        width: 100%;
        margin-top: 20px;
        border-radius: 1em;
        overflow: hidden;
        background-color: var(--hover-clr);
        display: none;
    }
    #game-embed {
        width: 100%;
        height: 60vh;
        border: none;
    }
    .game-embed-placeholder {
        padding: 20px;
        text-align: center;
        color: var(--secondary-text-clr);
    }
    .game-card {
        background-color: var(--card-bg-clr);
        border-radius: 1em;
        padding: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .game-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }
    .game-card i {
        color: var(--accent-clr);
        margin-bottom: 10px;
    }
    .game-name {
        color: var(--text-clr);
        font-weight: bold;
        text-align: center;
    }
    .games-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 20px;
        padding: 20px;
        max-width: 1200px;
        margin: 20px auto;
    }
    @media (max-width: 768px) {
        .games-grid {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }
    }
  </style>
</head>
<body>
  <nav id="sidebar">
    <ul>
      <li>
        <span class="logo">Texerum</span>
        <button onclick="toggleSidebar()" id="toggle-btn">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z"/></svg>
        </button>
      </li>
      <li>
        <a href="index.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
          <span>Home</span>
        </a>
      </li>
      <li>
        <a href="/hi/index.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>
          <span>Proxy</span>
        </a>
      </li>
      <li>
        <a href="vms.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M40-120v-80h880v80H40Zm120-120q-33 0-56.5-23.5T80-320v-440q0-33 23.5-56.5T160-840h640q33 0 56.5 23.5T880-760v440q0 33-23.5 56.5T800-240H160Zm0-80h640v-440H160v440Zm0 0v-440 440Z"/></svg>
          <span>VM's</span>
        </a>
      </li>
        <li class="active">
        <a href="games.html">
          <i class="bi bi-controller" style="font-size: 1.5rem;"></i>
          <span>Games</span>
        </a>
      </li>
      <li>
      <li>
        <a href="settings.html">
          
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/></svg>
          <span>Settings</span>
        </a>
      </li>
      <li>
        <a href="https://discord.gg/thTDFEUVwe" target="_blank" class="discord-nav-link">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M240-400h320v-80H240v80Zm0-120h480v-80H240v80Zm0-120h480v-80H240v80ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z"/></svg>
          <span>Discord</span>
        </a>
      </li>
      <li>
        <a href="https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/edit?tab=t.0" target="_blank">
          <i class="bi bi-file-earmark-text" style="font-size: 1.5rem;"></i>
          <span>Docs</span>
        </a>
      </li>
    </ul>
  </nav>

  <main>
    <p style="text-align: center;">https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/edit?tab=t.0 The ultimate Games Stash</p>
    <div class="games-grid">
      <div class="game-card upload-card">
        <i class="bi bi-upload" style="font-size: 1.5rem;"></i>
        <div class="game-name">Upload Your Game (.html)</div>
        <input type="file" id="gameFileInput" accept=".html" />
        <button class="upload-button" onclick="document.getElementById('gameFileInput').click()">Choose File</button>
      </div>
    </div>

    <div class="game-embed-container" id="gameEmbedContainer">
        <div class="game-embed-placeholder">
            <h3>Your uploaded game will appear here!</h3>
            <p>Please select an HTML file to play.</p>
        </div>
        <iframe id="game-embed" allowfullscreen sandbox="allow-scripts allow-same-origin allow-popups allow-forms"></iframe>
    </div>
  </main>
    <div class="game-embed-container" id="gameEmbedContainer">
        <div class="game-embed-placeholder">
            <h3>Your uploaded game will appear here!</h3>
            <p>Please select an HTML file to play.</p>
        </div>
        
    </div>
  </main>

  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('close');
    }

    document.addEventListener('DOMContentLoaded', () => {
        const gameFileInput = document.getElementById('gameFileInput');
        const gameEmbedIframe = document.getElementById('game-embed');
        const gameEmbedContainer = document.getElementById('gameEmbedContainer');

        gameFileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file && file.type === 'text/html') {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const htmlContent = e.target.result;
                    const blob = new Blob([htmlContent], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);

                    gameEmbedIframe.src = url;
                    gameEmbedContainer.style.display = 'block';
                    gameEmbedContainer.querySelector('.game-embed-placeholder').style.display = 'none';

                    if (gameEmbedIframe.dataset.currentUrl) {
                        URL.revokeObjectURL(gameEmbedIframe.dataset.currentUrl);
                    }
                    gameEmbedIframe.dataset.currentUrl = url;
                };
                reader.readAsText(file);
            } else {
                alert('Please upload a valid HTML file.');
                gameEmbedContainer.style.display = 'none';
                gameEmbedContainer.querySelector('.game-embed-placeholder').style.display = 'block';
                gameEmbedIframe.src = '';
            }
        });

        if (!gameEmbedIframe.src) {
            gameEmbedContainer.style.display = 'none';
        }
    });
  </script>
</body>
</html>